<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://alobe.github.io/</id>
    <title>Alobef</title>
    <updated>2019-05-31T11:18:32.470Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://alobe.github.io/"/>
    <link rel="self" href="https://alobe.github.io//atom.xml"/>
    <subtitle>è½æèŠ±é£æ˜¾æ­¤æ™¯ï¼Œæ¼¾æ–‡é±¼è·ƒè¡¬è¿œæ³¢</subtitle>
    <logo>https://alobe.github.io//images/avatar.png</logo>
    <icon>https://alobe.github.io//favicon.ico</icon>
    <rights>All rights reserved 2019, Alobef</rights>
    <entry>
        <title type="html"><![CDATA[K-SUMé—®é¢˜]]></title>
        <id>https://alobe.github.io//post/k-sum-wen-ti</id>
        <link href="https://alobe.github.io//post/k-sum-wen-ti">
        </link>
        <updated>2019-05-22T08:54:11.000Z</updated>
        <content type="html"><![CDATA[<p>èƒŒåŒ…é—®é¢˜ï¼šä»ç»™å®šçš„æ— åºã€ä¸é‡å¤çš„æ•°ç»„ A ä¸­ï¼Œå–å‡º N ä¸ªæ•°ï¼Œä½¿å…¶ç›¸åŠ å’Œ ä¸º M</p>
<pre><code class="language-js">function getCombBySum(array,sum,tolerance,targetCount){
  /*
  arrayï¼š æ•°æ®æºæ•°ç»„ï¼Œå¿…é€‰ï¼›
  sumï¼š ç›¸åŠ çš„å’Œï¼Œå¿…é€‰ï¼›
  toleranceï¼š å®¹å·®ï¼Œå¦‚æœä¸æŒ‡å®šæ­¤å‚æ•°ï¼Œåˆ™ç›¸åŠ çš„å’Œå¿…é¡»ç­‰äºsumå‚æ•°ï¼ŒæŒ‡å®šæ­¤å‚æ•°å¯ä»¥ä½¿ç»“æœåœ¨å®¹å·®èŒƒå›´å†…æµ®åŠ¨ï¼Œå¯é€‰ï¼›
  targetCountï¼š æ“ä½œæ•°æ•°é‡ï¼Œå¦‚æœä¸æŒ‡å®šæ­¤å‚æ•°ï¼Œåˆ™ç»“æœåŒ…å«æ‰€æœ‰å¯èƒ½çš„æƒ…å†µï¼ŒæŒ‡å®šæ­¤å‚æ•°å¯ä»¥ç­›é€‰å‡ºå›ºå®šæ•°é‡çš„æ•°ç›¸åŠ ï¼Œå‡å¦‚æŒ‡å®šä¸º3ï¼Œé‚£ä¹ˆç»“æœåªåŒ…å«ä¸‰ä¸ªæ•°ç›¸åŠ çš„æƒ…å†µï¼Œå¯é€‰ï¼›
  è¿”å›å€¼ï¼š è¿”å›çš„æ˜¯æ•°ç»„å¥—æ•°ç»„ç»“æ„ï¼Œå†…å±‚æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯æ“ä½œæ•°ï¼Œå¤–å±‚æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯æ‰€æœ‰å¯èƒ½çš„ç»“æœï¼›
  */
  var util = {
    /*
      get combination from array
      arr: target array
      num: combination item length
      return: one array that contain combination arrays
    */
    /*è·å–æ‰€æœ‰çš„å¯èƒ½ç»„åˆ
    å¦‚æœæ˜¯[1,2,3,4,5]å–å‡º3ä¸ªï¼Œé‚£ä¹ˆå¯èƒ½æ€§å°±æœ‰10ç§ C(5,3)= C(5,2)
    å…¬å¼ï¼š 
    å…¨æ’åˆ—  P(n,m)=n!/(n-m)!
    ç»„åˆæ’åˆ— P(n,m)=n!/m!/(n-m)!
    C(5,2)=5!/2!*3!=5*4*3*2*1/[(2*1)*(3*2*1)]=10
    è¿™æ˜¯ä½¿ç”¨äº†å¾ªç¯åŠ é€’å½’åšå‡ºäº†ç»„åˆæ’åº
    */
    getCombination: function(arr, num) {  //  ç´¢å¼•æ•°ç»„ æ“ä½œæ•°æ•°é‡
      var r=[];
      (function f(t,a,n){
          if (n == 0) return r.push(t);
          for (var i=0,l=a.length; i&lt;=l-n; i++) {
              f(t.concat(a[i]), a.slice(i+1), n-1);
        }
      })([],arr,num);
      return r;
    },
    // è·å–æ•°ç»„çš„ç´¢å¼•
    getArrayIndex: function(array) {
      var i = 0,
        r = [];
      for(i = 0;i&lt;array.length;i++){
        r.push(i);
      }
      
      return r;
    }
  },logic = {
    //  å¯¹æ•°ç»„è¿›è¡Œæ’åº
    //  è·å–æ•°ç»„ä¸­æ¯”sumå°çš„æ•°
    init: function(array,sum) {  //åˆå§‹åŒ–å»é™¤ä¸å¯èƒ½çš„å…ƒç´ 
      // clone array
      var _array = array.concat(),
      r = [],
      i = 0;
      // sort by asc
      _array.sort(function(a,b){
        return a - b;
      });
      // å½“å®ƒå°äºæˆ–ç­‰äºæ€»å’Œæ—¶è·å¾—æ‰€æœ‰æ•°å­—
      for(i = 0;i&lt;_array.length;i++){
        if(_array[i]&lt;=sum){
          r.push(_array[i]);
        }else{
          break;
        }
      }
      console.log('åˆå§‹åŒ–åçš„æ•°æ®æº:', r);
      return r;
    },
    // important function
    core: function(array,sum,arrayIndex,count,r){
      var i = 0,
        k = 0,
        combArray = [],
        _sum = 0,
        _cca = [],
        _cache = [];
      
      if(count == _returnMark){
        return;
      }
      // è·å–å½“å‰çš„è®¡æ•°æ€»å’Œ
      // è¿™é‡Œæ’åºçš„ä¸æ˜¯åŸæ¥çš„æ•°ç»„,è€Œæ˜¯æ±‚çš„ç´¢å¼•åçš„æ•°ç»„
      combArray = util.getCombination(arrayIndex,count);
      console.log('getCombinationè¿”å›çš„å€¼ï¼š', combArray);
      for(i = 0;i&lt;combArray.length;i++){
        _cca = combArray[i];
        _sum = 0;
        _cache = [];
        // calculate the sum from combination
        for(k = 0;k&lt;_cca.length;k++){
          _sum += array[_cca[k]];
          _cache.push(array[_cca[k]]);
        }
        if(Math.abs(_sum-sum) &lt;= _tolerance){
          r.push(_cache);
        }      
      }

      logic.core(array,sum,arrayIndex,count-1,r);
    }
  },
    r = [],
    _array = [],
    _targetCount = 0,
    _tolerance = 0,
    _returnMark = 0;
    
    // check data
  _targetCount = targetCount || _targetCount;
  _tolerance = tolerance || _tolerance;
  
  _array = logic.init(array,sum);
  if(_targetCount){
      _returnMark = _targetCount-1;
  }
  console.log('_targetCountçš„å€¼:', _targetCount);
  console.log('_returnMarkçš„å€¼:', _returnMark);

  logic.core(_array,sum,util.getArrayIndex(_array),(_targetCount || _array.length),r);

  return r;
}
var res1 = getCombBySum([1, 2, 3, 4, 5], 6, null, 2);
// var res2 = getCombBySum([1, 2, 3, 4, 5, 9, 7, 10, 8], 9, null, null);
console.log(res1);
// console.log(res2);
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[2-sumé—®é¢˜]]></title>
        <id>https://alobe.github.io//post/2-sum-wen-ti</id>
        <link href="https://alobe.github.io//post/2-sum-wen-ti">
        </link>
        <updated>2019-05-22T08:49:04.000Z</updated>
        <content type="html"><![CDATA[<p>å‡è®¾æœ‰ä¸€ç»„æ•°å­—int[] aï¼Œç»™å®šä¸€ä¸ªæ•°å­—sumï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ‰¾åˆ°æ•°ç»„ä¸­æ˜¯å¦æœ‰ä¸¤ä¸ªæ•°å­—a, b, ä»–ä»¬çš„å’Œç­‰äºæ•°å­—sum</p>
<pre><code class="language-js">const a = [1,2,4,6,9,3,5,10,12]

function getSum (a, totalCount) {
  const map = {}
  a.forEach((val, index) =&gt; {
    map[val] = {
      v: index + 1,
      marked: false
    }
  })

  const result = []
  a.map((val,index) =&gt; {
    const otherVal = map[totalCount - val]
    if (map[val].marked ||!map[totalCount - val] || map[totalCount - val].marked) return
    const oVal = otherVal.v
    if (oVal !== index + 1) {
      result.push([val, totalCount - val])
      map[val].marked = true
      map[totalCount - val].marked = true
    }
  })

  return result
}

console.log(getSum(a, 8))
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[nçº§é˜¶æ¢¯é—®é¢˜]]></title>
        <id>https://alobe.github.io//post/n-ji-jie-ti-wen-ti</id>
        <link href="https://alobe.github.io//post/n-ji-jie-ti-wen-ti">
        </link>
        <updated>2019-05-22T08:24:02.000Z</updated>
        <content type="html"><![CDATA[<p>ä¸€ä¸ªæ¥¼æ¢¯æœ‰NèŠ‚ï¼Œæ¯æ¬¡åªèƒ½èµ°1æ­¥æˆ–è€…2æ­¥ï¼Œè¯·é—®èµ°å®ŒNèŠ‚æ¥¼æ¢¯æœ‰å‡ ç§èµ°æ³•ï¼Ÿ</p>
<pre><code class="language-js">// é€’å½’ç»“åˆåŠ¨æ€è§„åˆ’
function step1 (n, map) {
  if (n &lt;= 0) return 0
  if (n &lt;= 2) return n
  if (map[n]) return map[n]
  const count = step1(n - 1, map) + step1(n-2, map)
  map[n] = count
  return count
}

// åŠ¨æ€è§„åˆ’
function step2 (n) {
  if (n &lt;= 0) return 0
  if (n &lt;= 2) return n
  const a = new Array(10000).fill(0)
  a[1] = 1
  a[2] = 2
  let i
  for (i = 3;i &lt;= n;i++) {
    a[i] = a[i - 1] + a[i -2]
  }
  return a[i - 1]
}

// èŠ‚çœç©ºé—´çš„åŠ¨æ€è§„åˆ’
function step3 (n) {
  if (n &lt;= 0) return 0
  if (n &lt;= 2) return n
  let i= 3, a1 = 1,a2 = 2
  while (i &lt;= n ) {
    let temp = a1 + a2
    a1 = a2
    a2 = temp
    i++
  }
  return a2
}

console.log(step1(4, {}), step2(4), step3(4))
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ‰‘å…‹ç‰Œé—®é¢˜]]></title>
        <id>https://alobe.github.io//post/bu-ke-pai-wen-ti</id>
        <link href="https://alobe.github.io//post/bu-ke-pai-wen-ti">
        </link>
        <updated>2019-05-22T05:56:03.000Z</updated>
        <content type="html"><![CDATA[<p>æè¿°ï¼š</p>
<p>æˆ‘æ‰‹ä¸­æœ‰ä¸€å †æ‰‘å…‹ç‰Œï¼Œ ä½†æ˜¯è§‚ä¼—ä¸çŸ¥é“å®ƒçš„é¡ºåºã€‚
ç¬¬ä¸€æ­¥ï¼Œ æˆ‘ä»ç‰Œé¡¶æ‹¿å‡ºä¸€å¼ ç‰Œï¼Œ æ”¾åˆ°æ¡Œå­ä¸Šã€‚
ç¬¬äºŒæ­¥ï¼Œ æˆ‘ä»ç‰Œé¡¶å†æ‹¿ä¸€å¼ ç‰Œï¼Œ æ”¾åœ¨æ‰‹ä¸Šç‰Œçš„åº•éƒ¨ã€‚
ç¬¬ä¸‰æ­¥ï¼Œ é‡å¤ç¬¬ä¸€æ­¥ã€ç¬¬äºŒæ­¥çš„æ“ä½œï¼Œ ç›´åˆ°æˆ‘æ‰‹ä¸­æ‰€æœ‰çš„ç‰Œéƒ½æ”¾åˆ°äº†æ¡Œå­ä¸Šã€‚
æœ€åï¼Œ è§‚ä¼—å¯ä»¥çœ‹åˆ°æ¡Œå­ä¸Šç‰Œçš„é¡ºåºæ˜¯ï¼š(ç‰Œåº•éƒ¨ï¼‰1,2,3,4,5,6,7,8,9,10,11,12,13(ç‰Œé¡¶éƒ¨ï¼‰
è¯·é—®ï¼Œ æˆ‘åˆšå¼€å§‹æ‹¿åœ¨æ‰‹é‡Œçš„ç‰Œçš„é¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ
è¯·ç¼–ç¨‹å®ç°ã€‚</p>
<pre><code class="language-js">const result = [1,2,3,4,5,6,7,8,9,10,11,12,13]

function getCards(result) {
  const cards = []

  while (result.length) {
    cards.unshift(result.pop())
    cards.unshift(cards.pop())
  }

  // æœ€åä¸€æ¬¡å¤šåšäº†ä¸€æ¬¡å¤´å°¾äº¤æ¢
  cards.push(cards.shift())


  return cards
}

console.log(getCards(result))
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ã€ŠJavaScriptæ ¸å¿ƒæŠ€æœ¯å¼€å‘è§£å¯†ã€‹çŸ¥è¯†ç‚¹è®°å½•]]></title>
        <id>https://alobe.github.io//post/javascript_core_tech_learn</id>
        <link href="https://alobe.github.io//post/javascript_core_tech_learn">
        </link>
        <updated>2019-04-29T03:57:18.000Z</updated>
        <content type="html"><![CDATA[<p>è¿è¡Œç¯å¢ƒ&lt;æ‰§è¡Œä¸Šä¸‹æ–‡&gt;ï¼š</p>
<p>-&gt; å…¨å±€ç¯å¢ƒï¼šä»£ç è¿è¡Œé¦–å…ˆè¿›å…¥å…¨å±€ç¯å¢ƒï¼Œä¹Ÿæ˜¯æœ€å¤–å±‚çš„ä½œç”¨åŸŸ</p>
<p>-&gt; å‡½æ•°ç¯å¢ƒï¼šå½“å‡½æ•°è¢«è°ƒç”¨æ‰§è¡Œæ—¶åˆ›å»ºçš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå³å‡½æ•°ä½œç”¨åŸŸ</p>
<p>-&gt; evalç¯å¢ƒï¼štodo</p>
<p>å˜é‡å¯¹è±¡&lt;VOï¼ŒVariable Object&gt;ï¼šåŒ…å«çš„å†…å®¹æœ‰ï¼šå‡½æ•°çš„å‚æ•°å¯¹è±¡argumentsã€å½“å‰ä¸Šä¸‹æ–‡çš„å‡½æ•°å£°æ˜ï¼ˆfunctionå£°æ˜çš„å‡½æ•°ï¼‰ã€å½“å‰ä¸Šä¸‹æ–‡çš„æ‰€æœ‰å˜é‡å£°æ˜</p>
<p>æ´»åŠ¨å¯¹è±¡&lt;AOï¼ŒActivation Object&gt;ï¼šå¤„äºå‡½æ•°è°ƒç”¨æ ˆæ ˆé¡¶çš„å˜é‡å¯¹è±¡VOï¼Œå³ä¸Šä¸‹æ–‡å¯¹è±¡å¤„äºæ¿€æ´»çŠ¶æ€ï¼Œé™¤äº†åŒ…å«å˜é‡å¯¹è±¡çš„å…¨éƒ¨å±æ€§ï¼Œå¹¶ä¸”å±æ€§éƒ½å®Œæˆäº†èµ‹å€¼ï¼Œè¿˜åŒ…å«thisçš„æŒ‡å‘</p>
<p>ä¸¾ä¾‹ï¼š</p>
<pre><code>function test () {
  console.log(a)
  console.log(foo())
  
  var a = 1
  function foo () {
    return 2
  }
}

test()

// è¿‡ç¨‹è§£æ
// åˆ›å»ºè¿‡ç¨‹
testEC = {					// åˆ›å»ºä¸Šä¸‹æ–‡å¯¹è±¡
  VO: {},						// å˜é‡å¯¹è±¡
  scopeChain: [],		// ä½œç”¨åŸŸé“¾ï¼ŒåŒ…å«ä¸Šä¸‹æ–‡å˜é‡å¯¹è±¡ï¼Œæ¯”å¦‚[VO(foo), VO(test), VO(global)]
  this: {}
}

VO = {										// å˜é‡å¯¹è±¡èµ‹å€¼
  arguments: {...},				// å‡½æ•°å‚æ•°å¯¹è±¡
	foo: &lt;foo reference&gt;,		// å†…éƒ¨å‡½æ•°å£°æ˜
	a: undefined						// å†…éƒ¨å˜é‡ 
}

// æ‰§è¡Œé˜¶æ®µ
VO -&gt; AO
AO = {
  arguments: {},
  foo: &lt;foo reference&gt;,
  a: 1,
  this: Window
}
</code></pre>
<p>ä½œç”¨åŸŸï¼š</p>
<p>å¸¸è§çš„æœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸ</p>
<p>å…¨å±€ä½œç”¨åŸŸç‰¹æ€§ï¼šå£°æ˜çš„å˜é‡å’Œå‡½æ•°å…¨å±€éƒ½èƒ½è®¿é—®</p>
<p>å‡½æ•°ä½œç”¨åŸŸç‰¹æ€§ï¼šå£°æ˜çš„å˜é‡å’Œæ–¹æ³•åªèƒ½è¢«ä¸‹å±‚å­ä½œç”¨åŸŸè®¿é—®</p>
<p>æ³¨æ„ï¼šå•ç‹¬çš„â€˜{}â€™ä¸ä¼šäº§ç”Ÿæ–°çš„ä½œç”¨åŸŸï¼Œå¸¸è§çš„åƒforã€whileã€switchç­‰ï¼Œä½†æ˜¯å¯ä»¥æ¨¡æ‹Ÿå—çº§ä½œç”¨åŸŸï¼Œé€šè¿‡ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°çš„æ–¹å¼åŒ…è£¹ä»£ç å—æ¥å®ç°</p>
<pre><code>(function () {
  // ä»£ç å—
})()
</code></pre>
<p>ä½œç”¨åŸŸé“¾ï¼š</p>
<p>ç”±å½“å‰æ‰§è¡Œç¯å¢ƒä¸ä¸Šå±‚æ‰§è¡Œç¯å¢ƒçš„ä¸€ç³»åˆ—å˜é‡å¯¹è±¡ç»„æˆï¼Œä¿è¯äº†å½“å‰æ‰§è¡Œç¯å¢ƒå¯¹ç¬¦åˆè®¿é—®æƒé™çš„å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®</p>
<p>é—­åŒ…ï¼š</p>
<p>æ¦‚å¿µï¼šä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ï¼ˆchromeæµè§ˆå™¨è°ƒè¯•å·¥å…·é‡Œå¯ä»¥çœ‹åˆ°ï¼ŒClosure()æ¥è¡¨ç¤ºï¼‰ï¼Œç”±æ‰§è¡Œä¸Šä¸‹æ–‡(A)ä»¥åŠåœ¨è¯¥æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºçš„å‡½æ•°(B)ï¼Œå½“Bæ‰§è¡Œæ—¶ï¼Œå¦‚æœè®¿é—®äº†Aä¸­çš„å˜é‡å¯¹è±¡ï¼Œåˆ™ä¼šäº§ç”Ÿé—­åŒ…</p>
<p>MDNä¸­çš„å®šä¹‰ï¼šé—­åŒ…æ˜¯æŒ‡è¿™æ ·çš„ä½œç”¨åŸŸï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥è°ƒç”¨è¢«è¿™ä¸ªä½œç”¨åŸŸæ‰€å°é—­çš„å˜é‡ã€å‡½æ•°æˆ–è€…é—­åŒ…çš„å†…å®¹ã€‚</p>
<p>catchï¼šé—­åŒ…ä¼šå¯¼è‡´å‡½æ•°çš„ä½œç”¨åŸŸé“¾å‘ç”Ÿå˜åŒ–å—ï¼Ÿ</p>
<p>ä¸ä¼šï¼Œè™½ç„¶ä½œç”¨åŸŸé“¾æ˜¯åœ¨ä»£ç æ‰§è¡Œæ—¶æ‰ç”Ÿæˆçš„ï¼Œä½†æ˜¯ä½œç”¨åŸŸè§„åˆ™åœ¨ä»£ç ç¼–è¯‘æ—¶å°±å·²ç»ç¡®å®šäº†å¹¶ä¸”ä¸ä¼šåœ¨æ‰§è¡Œæ—¶å‘ç”Ÿæ”¹å˜</p>
<p>åº”ç”¨</p>
<p>å•ä¾‹æ¨¡å¼ï¼ˆå³åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°åˆ›é€ ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸å¤–ç•Œéš”ç¦»ï¼‰</p>
<p>è¿›ä¸€æ­¥çš„å°±æ˜¯æ¨¡å—åŒ–ï¼ˆæ¯ä¸ªå•ä¾‹å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼‰</p>
<p>æ¨¡æ‹Ÿç§æœ‰å˜é‡</p>
<p>å¼‚æ­¥æœåŠ¡è°ƒç”¨</p>
<p>é«˜é˜¶å‡½æ•°ï¼ŒåƒæŸ¯é‡ŒåŒ–çš„å‡½æ•°ï¼Œåå‡½æ•°</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[é’ˆå¯¹webpack v4 ç‰ˆæœ¬çš„uglifyjs-webpack-pluginä¸­ä¸èƒ½ç¼–è¯‘es6ä»£ç çš„å¤„ç†æ–¹æ³•]]></title>
        <id>https://alobe.github.io//post/webpack4_compile_es6</id>
        <link href="https://alobe.github.io//post/webpack4_compile_es6">
        </link>
        <updated>2019-03-26T08:33:09.000Z</updated>
        <content type="html"><![CDATA[<h3 id="ç°åœ¨çš„ä¸€äº›å·¥å…·åº“çš„ä¾èµ–åº“å¯èƒ½æ˜¯é€šè¿‡es6è¯­æ³•è¿›è¡Œç¼–å†™çš„å½“æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨uglifyjs-webpack-pluginä¸€ä¸ªwebpack-jsä»£ç ç¼–è¯‘å‹ç¼©jsä»£ç çš„æ’ä»¶å°±ä¼šé€ æˆç¼–è¯‘ä¸é€šè¿‡çš„é—®é¢˜">ç°åœ¨çš„ä¸€äº›å·¥å…·åº“çš„ä¾èµ–åº“å¯èƒ½æ˜¯é€šè¿‡es6è¯­æ³•è¿›è¡Œç¼–å†™çš„ï¼Œå½“æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨uglifyjs-webpack-pluginï¼ˆä¸€ä¸ªwebpack JSä»£ç ç¼–è¯‘å‹ç¼©jsä»£ç çš„æ’ä»¶ï¼‰ï¼Œå°±ä¼šé€ æˆç¼–è¯‘ä¸é€šè¿‡çš„é—®é¢˜</h3>
<h3 id="ä¸¾ä¸ªä¾‹å­åƒåœ¨reactåº”ç”¨ä¸­å¸¸ç”¨äºè§£ærequestçš„queryå‚æ•°çš„query-stringåº“å®ƒçš„ä¸€ä¸ªä¾èµ–åº“strict-uri-encodeå°±é‡‡ç”¨äº†es6çš„å†™æ³•å…¶æºç å¦‚ä¸‹">ä¸¾ä¸ªä¾‹å­ï¼Œåƒåœ¨reactåº”ç”¨ä¸­å¸¸ç”¨äºè§£ærequestçš„queryå‚æ•°çš„<a href="https://www.npmjs.com/package/query-string">query-stringåº“</a>ï¼Œå®ƒçš„ä¸€ä¸ªä¾èµ–åº“<a href="https://www.npmjs.com/package/strict-uri-encode">strict-uri-encode</a>å°±é‡‡ç”¨äº†es6çš„å†™æ³•ï¼Œå…¶æºç å¦‚ä¸‹ï¼š</h3>
<pre><code>'use strict';
module.exports = str =&gt; encodeURIComponent(str).replace(/[!'()*]/g, x =&gt; `%${x.charCodeAt(0).toString(16).toUpperCase()}`);
</code></pre>
<h3 id="å¾ˆæ˜æ˜¾æ˜¯ç”¨äº†es6é‡Œååˆ†å¸¸è§çš„ç®­å¤´å‡½æ•°ä½†å¦‚æœè¿˜æ˜¯ä½¿ç”¨uglifyjs-webpack-pluginè¿›è¡Œjsä»£ç å‹ç¼©çš„è¯å¾ˆå®¹æ˜“å‡ºç°ä¸‹é¢çš„é”™è¯¯">å¾ˆæ˜æ˜¾æ˜¯ç”¨äº†es6é‡Œååˆ†å¸¸è§çš„ç®­å¤´å‡½æ•°ï¼Œä½†å¦‚æœè¿˜æ˜¯ä½¿ç”¨uglifyjs-webpack-pluginè¿›è¡Œjsä»£ç å‹ç¼©çš„è¯ï¼Œå¾ˆå®¹æ˜“å‡ºç°ä¸‹é¢çš„é”™è¯¯</h3>
<pre><code>ERROR in index.884a774e80700a169db9.js from UglifyJs
Unexpected token: operator (&gt;) [index.884a774e80700a169db9.js:75386,22]
</code></pre>
<h3 id="å…·ä½“çš„é”™è¯¯è¯¦æƒ…è®¨è®ºå¯ä»¥æŸ¥çœ‹github-issue">å…·ä½“çš„é”™è¯¯è¯¦æƒ…è®¨è®ºå¯ä»¥æŸ¥çœ‹<a href="https://github.com/kevva/strict-uri-encode/issues/7">github issue</a></h3>
<h3 id="ä¸€å¼€å§‹æˆ‘å…ˆæŸ¥çœ‹uglifyjs-webpack-pluginçš„å®˜æ–¹é…ç½®æ–‡æ¡£å‘ç°uglifyoptionsæœ‰ecmaè¿™ä¸ªé…ç½®é€‰é¡¹ç”¨äºæ”¯æŒæ”¯æŒä¸åŒç‰ˆæœ¬çš„ecmascriptçš„ç¼–è¯‘-ç„¶è€Œå®è·µä¸­å‘ç°è¿™ä¸ªä¸œè¥¿å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ä¼°è®¡æ˜¯ç›¸å…³åŠŸèƒ½è¿˜æœªå®Œå…¨å®Œæˆæœ€æ–°ç‰ˆæœ¬çš„éƒ½ä¸è¡Œä½ è¯´ä½ å†™åœ¨å®˜æ–¹æ–‡æ¡£ä½œç”š">ä¸€å¼€å§‹æˆ‘å…ˆæŸ¥çœ‹uglifyjs-webpack-pluginçš„å®˜æ–¹é…ç½®æ–‡æ¡£,å‘ç°<a href="https://www.webpackjs.com/plugins/uglifyjs-webpack-plugin/#uglifyoptions">uglifyOptions</a>æœ‰ecmaè¿™ä¸ªé…ç½®é€‰é¡¹ï¼Œç”¨äºæ”¯æŒæ”¯æŒä¸åŒç‰ˆæœ¬çš„ECMAScriptçš„ç¼–è¯‘ã€‚ç„¶è€Œå®è·µä¸­å‘ç°è¿™ä¸ªä¸œè¥¿å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œä¼°è®¡æ˜¯ç›¸å…³åŠŸèƒ½è¿˜æœªå®Œå…¨å®Œæˆï¼ˆæœ€æ–°ç‰ˆæœ¬çš„éƒ½ä¸è¡Œï¼Œä½ è¯´ä½ å†™åœ¨å®˜æ–¹æ–‡æ¡£ä½œç”šğŸ˜‚ï¼‰</h3>
<h3 id="ç„¶åå°è¯•äº†å¾ˆå¤šç§åŠæ³•æ¯”å¦‚å°†è¿™ä¸ªåº“åŠ åˆ°babel-loaderçš„includesä¸­-ä½¿ç”¨uglify-es-webpack-pluginç­‰ç»“æœéƒ½ä¸æ˜¯å¾ˆç†æƒ³">ç„¶åå°è¯•äº†å¾ˆå¤šç§åŠæ³•ï¼Œæ¯”å¦‚å°†è¿™ä¸ªåº“åŠ åˆ°babel-loaderçš„includesä¸­ã€ä½¿ç”¨uglify-es-webpack-pluginç­‰ç»“æœéƒ½ä¸æ˜¯å¾ˆç†æƒ³</h3>
<h3 id="æœ€åæ‰¾åˆ°terser-webpack-pluginè¿™ä¸ªwebpackæ’ä»¶å®ƒçš„é…ç½®å’Œuglify-webpack-pluginçš„é…ç½®å‡ ä¹ä¸€æ¨¡ä¸€æ ·è¿˜æ˜¯ç›¸ä¼¼çš„tersetoptionsçš„ecmaé…ç½®é¡¹ç„¶åæ‰“åŒ…æˆåŠŸ">æœ€åæ‰¾åˆ°<a href="https://www.npmjs.com/package/terser-webpack-plugin">terser-webpack-plugin</a>è¿™ä¸ªwebpackæ’ä»¶ï¼Œå®ƒçš„é…ç½®å’Œuglify-webpack-pluginçš„é…ç½®å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œè¿˜æ˜¯ç›¸ä¼¼çš„tersetOptionsçš„ecmaé…ç½®é¡¹ï¼Œç„¶åæ‰“åŒ…æˆåŠŸğŸ‰</h3>
<h3 id="terser-webpack-pluginå…·ä½“çš„ä½¿ç”¨å¯ä»¥æŸ¥çœ‹è¿™é‡Œ">terser-webpack-pluginå…·ä½“çš„ä½¿ç”¨å¯ä»¥æŸ¥çœ‹<a href="https://www.npmjs.com/package/terser-webpack-plugin">è¿™é‡Œ</a></h3>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä¿®æ”¹MySQLå…¨å±€å˜é‡å¸¸è§åœºæ™¯å’Œå‡ ç§è§£å†³æ–¹æ¡ˆ]]></title>
        <id>https://alobe.github.io//post/Mysql_valiables_vary</id>
        <link href="https://alobe.github.io//post/Mysql_valiables_vary">
        </link>
        <updated>2019-01-04T13:24:41.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸¾ä¸ªååˆ†å¸¸è§çš„ä¾‹å­æ¯”å¦‚mysqlæ•°æ®åº“è¡¨åŒºåˆ†å¤§å°å†™æ•æ„Ÿé…ç½®å³lower_case_table_namesåœ¨windowså’Œmac-osxç³»ç»Ÿä¸‹çš„é»˜è®¤å€¼æ˜¯1å³æ•°æ®åº“è¡¨å¤§å°å†™åŒºåˆ†ä¸æ•æ„Ÿç„¶è€Œåœ¨linuxç³»ç»Ÿä¸‹é»˜è®¤å€¼æ˜¯ä¸º0å³å¤§å°å†™æ•æ„Ÿ">ä¸¾ä¸ªååˆ†å¸¸è§çš„ä¾‹å­ï¼Œæ¯”å¦‚MySQLæ•°æ®åº“è¡¨åŒºåˆ†å¤§å°å†™æ•æ„Ÿé…ç½®ï¼Œå³lower_case_table_names,åœ¨windowså’Œmac OSXç³»ç»Ÿä¸‹çš„é»˜è®¤å€¼æ˜¯1ï¼Œå³æ•°æ®åº“è¡¨å¤§å°å†™åŒºåˆ†ä¸æ•æ„Ÿï¼Œç„¶è€Œåœ¨linuxç³»ç»Ÿä¸‹é»˜è®¤å€¼æ˜¯ä¸º0ï¼Œå³å¤§å°å†™æ•æ„Ÿã€‚</h2>
<h2 id="ç›¸å¯¹å¸¸è§çš„ä¿®æ”¹æ–¹å¼æœ‰ä»¥ä¸‹ä¸¤ç§">ç›¸å¯¹å¸¸è§çš„ä¿®æ”¹æ–¹å¼æœ‰ä»¥ä¸‹ä¸¤ç§</h2>
<h3 id="å‘½ä»¤è¡Œè¿›å…¥mysqlæˆ–è€…æ˜¯å¸¸è§çš„mysqlè¿æ¥å·¥å…·æ¯”å¦‚navicat-dbeaver-sequel-proçš„queryé¡µé¢é¦–å…ˆå…ˆæŸ¥çœ‹è¯¥å€¼è¯¦æƒ…">å‘½ä»¤è¡Œè¿›å…¥MySQLæˆ–è€…æ˜¯å¸¸è§çš„MySQLè¿æ¥å·¥å…·æ¯”å¦‚Navicatã€DBeaverã€Sequel Proçš„queryé¡µé¢ï¼Œé¦–å…ˆå…ˆæŸ¥çœ‹è¯¥å€¼è¯¦æƒ…</h3>
<pre><code>show variables like &quot;%lower_case_table_names%&quot;
</code></pre>
<h3 id="å‡è®¾æ˜¾ç¤ºçš„å€¼ä¸ºlower_case_table_names0">,å‡è®¾æ˜¾ç¤ºçš„å€¼ä¸º<code>lower_case_table_names=0</code></h3>
<h3 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•</h3>
<h4 id="1-ç›´æ¥æ‰§è¡Œå‘½ä»¤">1ã€ç›´æ¥æ‰§è¡Œå‘½ä»¤</h4>
<pre><code>set global variables lower_case_table_names=1
</code></pre>
<h4 id="2-ä¿®æ”¹mysqlçš„é…ç½®æ–‡ä»¶mycnfåœ¨mysqldèŠ‚ç‚¹åé¢æ·»åŠ ">2ã€ä¿®æ”¹MySQLçš„é…ç½®æ–‡ä»¶my.cnfï¼Œåœ¨<code>[mysqld]</code>èŠ‚ç‚¹åé¢æ·»åŠ </h4>
<pre><code>lower_case_table_names=1
</code></pre>
<h3 id="ç„¶åé‡å¯mysqlæœåŠ¡å³å¯">,ç„¶åé‡å¯MySQLæœåŠ¡å³å¯</h3>
<h2 id="è¿›é˜¶å†…å®¹">ã€è¿›é˜¶å†…å®¹ã€‘</h2>
<h3 id="å‡å¦‚mysqlæ˜¯æœ¬åœ°é€šè¿‡dockeré•œåƒåˆ›å»ºçš„æˆ–è€…æ˜¯çº¿ä¸Šçš„dockeré•œåƒæœåŠ¡æ¯”å¦‚é˜¿é‡Œäº‘çš„mysqlé•œåƒåº”ç”¨">å‡å¦‚MySQLæ˜¯æœ¬åœ°é€šè¿‡dockeré•œåƒåˆ›å»ºçš„ï¼Œæˆ–è€…æ˜¯çº¿ä¸Šçš„dockeré•œåƒæœåŠ¡ï¼Œæ¯”å¦‚é˜¿é‡Œäº‘çš„MySQLé•œåƒåº”ç”¨ã€‚</h3>
<h3 id="é’ˆå¯¹æœ¬åœ°çš„mysqlé•œåƒè¿œç«¯åº”è¯¥ä¹Ÿè¡Œåªè¦èƒ½è¿æ¥ä¸Šè¿œç«¯çš„dockeré•œåƒæ‰§è¡Œå‘½ä»¤">é’ˆå¯¹æœ¬åœ°çš„MySQLé•œåƒï¼ˆè¿œç«¯åº”è¯¥ä¹Ÿè¡Œï¼Œåªè¦èƒ½è¿æ¥ä¸Šè¿œç«¯çš„dockeré•œåƒï¼‰ï¼Œæ‰§è¡Œå‘½ä»¤</h3>
<pre><code>docker exec -it é•œåƒåç§° /bin/bash
</code></pre>
<h3 id="é•œåƒåç§°å¯ä»¥é€šè¿‡docker-psæ¥è·å–ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„bashå·¥å…·è¿›å…¥é•œåƒç„¶åé‡å¤ä¸Šé¢çš„è§£å†³æ–¹æ³•ä¸€å³">(é•œåƒåç§°å¯ä»¥é€šè¿‡<code>docker ps</code>æ¥è·å–ï¼Œä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„bashå·¥å…·è¿›å…¥é•œåƒ),ç„¶åé‡å¤ä¸Šé¢çš„è§£å†³æ–¹æ³•ä¸€ï¼Œå³</h3>
<pre><code>set global variables lower_case_table_names
</code></pre>
<h3 id="å¯¹äºè§£å†³æ–¹æ³•äºŒæ“ä½œç¨å¾®æ¯”è¾ƒå¤æ‚æˆ‘å°±åªè®²ä¸‹æ€è·¯é¦–å…ˆå…ˆçœ‹é•œåƒå†…æœ‰æ²¡æœ‰å®‰è£…vimç­‰ç¼–è¾‘å·¥å…·æ²¡æœ‰åˆ™å®‰è£…å¯é€šè¿‡å‘½ä»¤">ã€‚å¯¹äºè§£å†³æ–¹æ³•äºŒï¼Œæ“ä½œç¨å¾®æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘å°±åªè®²ä¸‹æ€è·¯ï¼Œé¦–å…ˆå…ˆçœ‹é•œåƒå†…æœ‰æ²¡æœ‰å®‰è£…vimç­‰ç¼–è¾‘å·¥å…·ï¼Œæ²¡æœ‰åˆ™å®‰è£…ï¼Œå¯é€šè¿‡å‘½ä»¤</h3>
<pre><code>apt-get update &amp; apt-get install vim
</code></pre>
<h3 id="ç„¶åé€šè¿‡vimæ‰“å¼€å¯¹åº”çš„mysqlçš„é…ç½®æ–‡ä»¶mycnfä¿®æ”¹ä¿å­˜å³å¯">,ç„¶åé€šè¿‡vimæ‰“å¼€å¯¹åº”çš„MySQLçš„é…ç½®æ–‡ä»¶my.cnfä¿®æ”¹ä¿å­˜å³å¯</h3>
<h2 id="å…¶å®è¿˜æœ‰æ›´å¥½çš„æ–¹æ³•å°±æ˜¯ä¿®æ”¹mysqlé•œåƒçš„dockerfileç›´æ¥åœ¨mysqldå®‰è£…å‘½ä»¤åæ·»åŠ ä¸€æ¡å‘½ä»¤">å…¶å®è¿˜æœ‰æ›´å¥½çš„æ–¹æ³•å°±æ˜¯ï¼Œä¿®æ”¹MySQLé•œåƒçš„dockerfileï¼Œç›´æ¥åœ¨mysqldå®‰è£…å‘½ä»¤åæ·»åŠ ä¸€æ¡å‘½ä»¤</h2>
<pre><code>CMD mysqld --lower_case_table_names=1
</code></pre>
<h3 id="å³å¯æˆ–è€…æ˜¯docker-composeymlé…ç½®æ–‡ä»¶ä¸­çš„mysqlé•œåƒé…ç½®ä¸­æ·»åŠ ">å³å¯ï¼Œæˆ–è€…æ˜¯docker-compose.ymlé…ç½®æ–‡ä»¶ä¸­çš„MySQLé•œåƒé…ç½®ä¸­æ·»åŠ </h3>
<pre><code>commend:
  - &quot;--lower_case_table_names=1&quot;
</code></pre>
<h2 id="ç„¶åå¦‚æœæ˜¯é€šè¿‡é˜¿é‡Œäº‘å®˜æ–¹mysqlé•œåƒæ„å»ºçš„æœåŠ¡åº”ç”¨åªéœ€è¦å¯¹åº”ç”¨çš„å®¹å™¨é…ç½®ä¸­çš„commandæ·»åŠ mysqld-lower_case_table_names1">ç„¶åå¦‚æœæ˜¯é€šè¿‡é˜¿é‡Œäº‘å®˜æ–¹MySQLé•œåƒæ„å»ºçš„æœåŠ¡åº”ç”¨ï¼Œåªéœ€è¦å¯¹åº”ç”¨çš„å®¹å™¨é…ç½®ä¸­çš„commandæ·»åŠ <code>[&quot;mysqld&quot;, &quot;--lower_case_table_names=1&quot;]</code></h2>
<h2 id="æœ€åé‡å¯mysqlé•œåƒåº”ç”¨æˆ–æœåŠ¡">æœ€åé‡å¯MySQLé•œåƒåº”ç”¨æˆ–æœåŠ¡</h2>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ant design åŠ¨æ€å¯¼å…¥çš„æ³¨æ„äº‹é¡¹]]></title>
        <id>https://alobe.github.io//post/ant-design_dynamic_import</id>
        <link href="https://alobe.github.io//post/ant-design_dynamic_import">
        </link>
        <updated>2018-12-20T12:31:33.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ant-design-ç»„ä»¶åº“é»˜è®¤ä½¿ç”¨çš„æ˜¯lesså¦‚æœä½¿ç”¨çš„æ˜¯æ¯”è¾ƒé«˜ç‰ˆæœ¬çš„less-loaderè¿›è¡Œæ‰“åŒ…è½¬è¯‘ant-designçš„lessä»£ç æ—¶å°±ä¼šå‡ºç°ä¸‹é¢çš„é”™è¯¯">ant design ç»„ä»¶åº“é»˜è®¤ä½¿ç”¨çš„æ˜¯lessï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯æ¯”è¾ƒé«˜ç‰ˆæœ¬çš„less-loaderè¿›è¡Œæ‰“åŒ…è½¬è¯‘ant designçš„lessä»£ç æ—¶ï¼Œå°±ä¼šå‡ºç°ä¸‹é¢çš„é”™è¯¯</h2>
<p><img src="https://0d077ef9e74d8.cdn.sohucs.com/rlO1Naw_png" alt="document"></p>
<h2 id="ç›¸å…³é”™è¯¯è¯¦æƒ…å¯ä»¥æŸ¥çœ‹è¿™é‡Œ">ç›¸å…³é”™è¯¯è¯¦æƒ…å¯ä»¥æŸ¥çœ‹<a href="https://github.com/ant-design/ant-motion/issues/44">è¿™é‡Œ</a></h2>
<h2 id="è™½ç„¶æœ‰ant-designå®˜æ–¹æ¨èçš„cracreate-react-appçš„é…ç½®æ–¹æ³•è¯¦æƒ…è¯·çœ‹è¿™é‡Œä½†é’ˆå¯¹æ¯ä¸ªwebpackçš„ç»†èŠ‚é…ç½®å¦‚æœéƒ½éœ€è¦è¿™æ ·ä¾µå…¥å¼çš„åŠ¨æ€æ·»åŠ å°±æ˜¾å¾—ååˆ†ç¹å¤å¹¶ä¸”å¯è¯»æ€§ååˆ†çš„å·®æ‰€ä»¥æˆ‘è¿˜æ˜¯æ¨èä½¿ç”¨åŸå§‹çš„webpacké…ç½®æ–¹å¼">è™½ç„¶æœ‰ant designå®˜æ–¹æ¨èçš„craï¼ˆCreate React Appï¼‰çš„é…ç½®æ–¹æ³•ï¼Œ<a href="https://ant.design/docs/react/use-with-create-react-app-cn#%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE">è¯¦æƒ…è¯·çœ‹è¿™é‡Œ</a>,ä½†é’ˆå¯¹æ¯ä¸ªwebpackçš„ç»†èŠ‚é…ç½®å¦‚æœéƒ½éœ€è¦è¿™æ ·ä¾µå…¥å¼çš„åŠ¨æ€æ·»åŠ ï¼Œå°±æ˜¾å¾—ååˆ†ç¹å¤å¹¶ä¸”å¯è¯»æ€§ååˆ†çš„å·®ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯æ¨èä½¿ç”¨åŸå§‹çš„webpacké…ç½®æ–¹å¼</h2>
<h2 id="ç¤¾åŒºæ¯”è¾ƒå¸¸è§çš„åšæ³•æœ‰">ç¤¾åŒºæ¯”è¾ƒå¸¸è§çš„åšæ³•æœ‰</h2>
<ul>
<li>å°†lesså’Œless-loaderåˆ†åˆ«é™çº§åˆ°3.0å’Œ4.10ä»¥ä¸‹(ä¸ªäººä¸æ˜¯å¾ˆæ¨è)</li>
<li>å¦ä¸€ç§æ¯”è¾ƒå¥½çš„åšæ³•å°±æ˜¯å¼€å¯Javascripté€‰é¡¹å°±è¡Œäº†ï¼Œå³less-loaderçš„optionsä¸­æ·»åŠ <code>javascriptEnabled: true</code>å°±å¯ä»¥äº†ï¼Œè¿™ç§æ–¹å¼å…¼å®¹è¾ƒé«˜ç‰ˆæœ¬çš„webpackï¼Œä¸ªäººè¾ƒä¸ºæ¨è</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¸¸ç”¨å‡½æ•°çš„ç®€æ˜“å®ç°ä»¥åŠç›¸å…³çŸ¥è¯†ç‚¹]]></title>
        <id>https://alobe.github.io//post/call_apply_instanceof_etc</id>
        <link href="https://alobe.github.io//post/call_apply_instanceof_etc">
        </link>
        <updated>2018-10-24T03:54:23.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>LHSå’ŒRHSçš„å«ä¹‰ï¼šèµ‹å€¼æ“ä½œçš„å·¦ä¾§å’Œå³ä¾§ï¼ŒLHSæ“ä½œç›®æ ‡ï¼ŒRHSæ“ä½œæºï¼Œæœ‰å¯¹åº”çš„æŸ¥è¯¢æ“ä½œ</li>
<li>IIFEï¼šç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆImmediately Invoked Function Expressionï¼‰</li>
<li>å£°æ˜æå‡ï¼Œå‡½æ•°å£°æ˜ä¼˜å…ˆæå‡ï¼Œå˜é‡å£°æ˜æ¬¡ä¹‹</li>
<li>ä¸»è¦ç±»å‹ï¼šstringã€booleanã€numberã€objectã€nullã€undefinedï¼Œå†…ç½®å¯¹è±¡ï¼šStringã€Booleanã€Numberã€Objectã€Functionã€Arrayã€Dateã€RegExpã€Error</li>
<li>åŸå‹å’ŒåŸå‹é“¾
<ul>
<li>æ‰€æœ‰çš„å‡½æ•°ï¼Œéƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§</li>
<li>æ‰€æœ‰çš„å¼•ç”¨ç±»å‹ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ï¼‰ï¼Œéƒ½æœ‰ä¸€ä¸ª__proto__å±æ€§ï¼ˆä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼‰ï¼Œ__proto__å±æ€§å€¼æŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„prototypeå±æ€§å€¼
æ³¨æ„ï¼šES6çš„ç®­å¤´å‡½æ•°æ²¡æœ‰prototypeå±æ€§ï¼Œä½†æ˜¯æœ‰__proto__å±æ€§
åŸå‹é“¾ï¼šå½“è¯•å›¾å¾—åˆ°ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡æœ¬èº«æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆä¼šå»å®ƒçš„protoï¼ˆå³å®ƒçš„æ„é€ å‡½æ•°çš„prototypeï¼‰ä¸­å¯»æ‰¾ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªé“¾çŠ¶çš„ç»“æ„å°±å«åŸå‹é“¾</li>
</ul>
</li>
<li>ç®­å¤´å‡½æ•°å’Œfunctionå®šä¹‰çš„å‡½æ•°åŒºåˆ«ï¼š
functionå‡½æ•°ï¼šthisçš„æŒ‡å‘å–å†³äºå½“å‰çš„è°ƒç”¨ç¯å¢ƒï¼Œå˜é‡æå‡ä¼˜å…ˆçº§æœ€é«˜
ç®­å¤´å‡½æ•°ï¼šthisçš„æŒ‡å‘ä¸€ç›´æŒ‡å‘å®šä¹‰å…¶çš„å¤–éƒ¨ç¯å¢ƒï¼Œä¸å¯ä½¿ç”¨argumentså¯¹è±¡ã€yieldå‘½ä»¤ï¼Œå› ä¸ºæ²¡æœ‰è‡ªå·±çš„thisä»è€Œæ— æ³•è°ƒç”¨callã€applyä»¥åŠæ²¡æœ‰prototypeå±æ€§ï¼ˆnewå‘½ä»¤æ‰§è¡Œæ—¶éœ€è¦å°†prototypeå±æ€§èµ‹å€¼ç»™æ–°å¯¹è±¡çš„__ proto __ï¼‰æ‰€ä»¥ä¸èƒ½ç”¨äºæ„é€ å‡½æ•°å³newï¼Œå˜é‡æå‡ä¼˜å…ˆçº§ä¾èµ–äºèµ‹å€¼åˆ°çš„å®šä¹‰å˜é‡ï¼Œæ‰€ä»¥ç®­å¤´å‡½æ•°ä¸€å®šè¦å®šä¹‰å…ˆäºè°ƒç”¨</li>
</ol>
<p>å¸¸è§çš„å®ç°æ¡ˆä¾‹</p>
<p>â€”&gt; å®ç°new</p>
<pre><code>function New (func, ...args) {
  if (!func.prototype) throw new TypeError('wrong func')
  let obj = {}
  obj.__ptoto__ = func.prototype
  let ret = func.apply(obj, args)
  if (ret &amp;&amp; (typeof ret === 'object' || typeof ret === 'function')) return ret
  return obj
}
</code></pre>
<p>â€”&gt; å®ç°call</p>
<pre><code>Function.prototype.myCall = function (context) {
  if (typeof this !== 'function') throw new TypeError('Function Type Error!!')
  
  // è®¾ç½®ä¸Šä¸‹æ–‡ï¼Œé»˜è®¤ä¸ºwindow
  context = context || window
  // å¤‡ä»½é»˜è®¤çš„fn
  const { fn } = context
  
  // å°†å‡½æ•°èµ‹å€¼åˆ°å¯¹è±¡å±æ€§ä¸Šï¼Œè°ƒç”¨æ—¶thiså°±ä¼šç»‘å®šåˆ°å¯¹è±¡ä¸Š
  context.fn = this
  const result = context.fn(...([...arguments].slice(1)))
  
  // æ¢å¤å¯¹è±¡
  context.fn = fn
  return result
}
</code></pre>
<p>â€”&gt; å®ç°apply</p>
<pre><code>Function.prototype.myApply = function (context) {
	if (typeof this !== 'function') throw new TypeError('Function Type Error')
  
  context = context || window
  const { fn } = context
  context.fn = this
	const result = arguments[1] instanceof Array ? context.fn(...arguments[1]) : context.fn()
  context.fn = fn
  return result
}
</code></pre>
<p>â€”&gt; å®ç°bind</p>
<pre><code>Function.prototype.myBind = function (context) {
  if (typeof this !== 'function') throw new TypeError('Function Type Error')

  const that = this
  const preArgs = [...arguments].slice(1)
  return function F () {
    return this instanceof F ? new that(...preArgs, ...arguments) : that.apply(context, [...preArgs, ...arguments])
  }
}
</code></pre>
<p>â€”&gt; å®ç°æ·±æ‹·è´</p>
<pre><code>function deepClone (src) {
  let result = null
  // æºå¯¹è±¡ä¸ºæ•°ç»„
  if (src instanceof Array) {
    result = []
    for (let val of src) result.push(deepClone(val))
    return result
  // æºå¯¹è±¡ä¸ºå¯¹è±¡
  } else if (src instanceof Object) {
    result = {}
    const keys = Reflect.ownKeys(src)
    for (let key of keys) result[key] = deepClone(src[key])
    return result
  } else return src
}
</code></pre>
<p>â€”&gt; å®ç°instanceof</p>
<pre><code>function myInstanceof (val, type) {
  const prototype = type.prototype
  while (val = val.__proto__) {
    if (val === prototype) return true
  }
  return false
}
</code></pre>
<p>â€”&gt; å®ç°äº‹ä»¶çš„è®¢é˜…å‘å¸ƒ</p>
<pre><code>class Event {
  constructor () {
    this._map = {}
  }
  // è®¢é˜…
  subscribe (type, cb) {
    this._map[type] = this._map[type] || []
    const cbs = this._map[type]
    if (!~cbs.indexOf(cb)) cbs.push(cb)
    return this
  }
  // è§¦å‘
  trigger (type, ...args) {
    if (this._map[type]) this._map[type].map(cb =&gt; cb(...args))
    return this
  }
  // ç§»é™¤
  remove (type, cb) {
    let cbs = this._map[type]
    if (cbs) {
      const index = cbs.indexOf(cb)
      if (index + 1) cbs.slice(index, 1)
      else cbs = null
    }
    return this
  }
}
</code></pre>
<p>â€”&gt; å®ç°map</p>
<pre><code>Array.prototype.myMap = function (func, context) {
  if (typeof func !== 'function') throw new TypeError('Function Type error')
  let temp = []
  for (let i = 0;i &lt; this.length;i++) {
    temp.push(func.call(context, this[i], i, this))
  }      
  return temp
}
</code></pre>
<p>â€”&gt; å®ç°reduce</p>
<pre><code>const reduce = (array, fn, initalValue) =&gt; {
  let saver
  if (initalValue === undefined) {
    saver = array[0]
    array.forEach((v, i) =&gt; {
      if (i) saver = fn(saver, v)
    })
  } else {
    saver = initalValue
    array.forEach(v =&gt; {
      saver = fn(saver, v)
    })
  }
  return saver
}
</code></pre>
<p>â€”&gt;æ— é™å‚æ•°çš„æŸ¯é‡ŒåŒ–</p>
<pre><code>function addendless () {
  const args = [...arguments]
  
  let add = function () {
    let _add = function () {
      args.push(...arguments)
      return _add
    }

    _add.toString = function () {
      return args.reduce((a, b) =&gt; a + b)
    }

    return _add
  }
  return add(...args)
}
</code></pre>
<p>â€”&gt; curryingå‡½æ•°</p>
<pre><code>function currying (fn) {
  const  args = arguments.slice(1)
  return function () {
    return fn.call(null, ...args, ...arguments)
  }
}
</code></pre>
<p>â€”&gt; åå‡½æ•°partial</p>
<pre><code>const partial = (fn, partialArgs) =&gt; {
  	let args = partialArgs
    return (...fillArgs) =&gt; {
      let argIndex = 0
      for (let i = 0;i &lt; args.length &amp;&amp; argIndex &lt; fillArgs.length;i++) {
        if (args[i] === undefined) args[i] = fillArgs[argIndex++]
      }
      return fn.apply(null, args)
    }
}
</code></pre>
<p>â€”&gt; composeå‡½æ•°(å¤šå‚æ•°çš„)</p>
<pre><code>// éœ€è¦ç”¨åˆ°ä¸Šé¢å®ç°çš„reduceå‡½æ•°
const compose = (...fns) =&gt; val =&gt; reduce(fns.reverse(), (inital, fn) =&gt; fn(inital), val)
</code></pre>
<p>â€”&gt; ç®¡é“å‡½æ•°pipe</p>
<pre><code>// éœ€è¦ç”¨åˆ°ä¸Šé¢å®ç°çš„reduceå‡½æ•°
const pipe = (...fns) =&gt; val =&gt; reduce(fns, (inital, fn) =&gt; fn(inital), val)
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[thiså…³é”®å­—æ¢ç©¶]]></title>
        <id>https://alobe.github.io//post/this_refer</id>
        <link href="https://alobe.github.io//post/this_refer">
        </link>
        <updated>2018-08-20T04:25:41.000Z</updated>
        <content type="html"><![CDATA[<p>jsä½œç”¨åŸŸåµŒå¥—</p>
<blockquote>
<p>å½“ä¸€ä¸ªå—æˆ–å‡½æ•°åµŒå¥—åœ¨å¦ä¸€ä¸ªå—æˆ–å‡½æ•°ä¸­æ—¶ï¼Œå°±å‘ç”Ÿäº†ä½œç”¨åŸŸçš„åµŒå¥—ï¼Œè¿›è€Œå½¢æˆäº†ä¸€æ¡ä½œç”¨åŸŸé“¾ã€‚å› æ­¤ï¼Œåœ¨å½“å‰ä½œç”¨åŸŸä¸­æ— æ³•æ‰¾åˆ°æŸä¸ªå˜é‡æ—¶ï¼Œå¼•æ“å°±ä¼šåœ¨å¤–å±‚åµŒå¥—çš„ä½œç”¨åŸŸä¸­ç»§ç»­æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥å˜é‡ï¼Œ æˆ–æŠµè¾¾æœ€å¤–å±‚çš„ä½œç”¨åŸŸ(ä¹Ÿå°±æ˜¯å…¨å±€ä½œç”¨åŸŸ)ä¸ºæ­¢ã€‚</p>
</blockquote>
<p>bindå‡½æ•°é—®é¢˜ï¼š</p>
<blockquote>
<p><strong>å®šä¹‰</strong>ï¼šbind()æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ï¼Œç§°ä¸ºç»‘å®šå‡½æ•°ï¼Œå½“è°ƒç”¨è¿™ä¸ªç»‘å®šå‡½æ•°æ—¶ï¼Œç»‘å®šå‡½æ•°ä¼šä»¥åˆ›å»ºå®ƒæ—¶ä¼ å…¥ bind()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸º thisï¼Œä¼ å…¥ bind() æ–¹æ³•çš„ç¬¬äºŒä¸ªä»¥åŠä»¥åçš„å‚æ•°åŠ ä¸Šç»‘å®šå‡½æ•°è¿è¡Œæ—¶æœ¬èº«çš„å‚æ•°æŒ‰ç…§é¡ºåºä½œä¸ºåŸå‡½æ•°çš„å‚æ•°æ¥è°ƒç”¨åŸå‡½æ•°</p>
<p>å¤šæ¬¡bindæ˜¯æ— æ•ˆçš„ï¼ŒåŸå› æ˜¯å› ä¸ºç›®æ ‡å‡½æ•°ç»‘å®šçš„å¯¹è±¡åªä¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ç»‘å®šï¼Œä¹‹åéƒ½æ˜¯å¯¹ä¸Šæ¬¡ç»‘å®šçš„å‡½æ•°è¿›è¡Œå¯¹è±¡çš„ç»‘å®š</p>
</blockquote>
<p>thiså…³é”®å­—</p>
<blockquote>
<p><code>this</code>æ˜¯åœ¨è¿è¡Œæ—¶ï¼ˆ<code>runtime</code>ï¼‰è¿›è¡Œç»‘å®šçš„ï¼Œ<strong>è€Œä¸æ˜¯åœ¨ç¼–å†™æ—¶ç»‘å®šçš„</strong>ï¼Œå®ƒçš„ä¸Šä¸‹æ–‡ï¼ˆå¯¹è±¡ï¼‰å–å†³äºå‡½æ•°è°ƒç”¨æ—¶çš„å„ç§æ¡ä»¶ã€‚<code>this</code>çš„ç»‘å®šå’Œå‡½æ•°å£°æ˜çš„ä½ç½®æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œ<strong>åªå–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼</strong>ã€‚</p>
<p>å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ´»åŠ¨è®°å½•(æœ‰æ—¶å€™ä¹Ÿç§°ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡)ã€‚è¿™ä¸ªè®°å½•ä¼šåŒ…å«å‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨(è°ƒç”¨æ ˆ)ã€å‡½æ•°çš„è°ƒç”¨æ–¹æ³•ã€ä¼ å…¥çš„å‚æ•°ç­‰ä¿¡æ¯ã€‚<strong>thiså°±æ˜¯è®°å½•çš„å…¶ä¸­ä¸€ä¸ªå±æ€§</strong>ï¼Œä¼šåœ¨å‡½æ•°æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ç”¨åˆ°ã€‚ï¼ˆ PS:æ‰€ä»¥<code>this</code>å¹¶ä¸ç­‰ä»·äºæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰</p>
</blockquote>
<h4 id="thisçš„ç»‘å®šè§„åˆ™">thisçš„ç»‘å®šè§„åˆ™</h4>
<ol>
<li>
<h4 id="é»˜è®¤ç»‘å®šæœ€å¸¸è§çš„è¡¨ç°ä¸ºç‹¬ç«‹å‡½æ•°è°ƒç”¨thisé»˜è®¤æŒ‡å‘windowæ³¨æ„åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹thisä¸å†é»˜è®¤æŒ‡å‘å…¨å±€è€Œæ˜¯undefined">é»˜è®¤ç»‘å®šï¼Œæœ€å¸¸è§çš„è¡¨ç°ä¸ºç‹¬ç«‹å‡½æ•°è°ƒç”¨ï¼Œthisé»˜è®¤æŒ‡å‘windowï¼ˆ<strong>æ³¨æ„ï¼šåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹thisä¸å†é»˜è®¤æŒ‡å‘å…¨å±€ï¼Œè€Œæ˜¯undefined</strong>ï¼‰</h4>
</li>
<li>
<p>éšå¼ç»‘å®šï¼Œå‡½æ•°è¢«æŸä¸ªå¯¹è±¡æ‹¥æœ‰æˆ–è€…åŒ…å«ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°è¢«ä½œä¸ºå¯¹è±¡çš„å±æ€§æ‰€å¼•ç”¨ï¼Œä¾‹å¦‚<code>obj.func()</code>ï¼Œæ­¤æ—¶<code>this</code>ä¼šç»‘å®šåˆ°è¯¥å¯¹è±¡ä¸Š</p>
<blockquote>
<p><strong>éšå¼ä¸¢å¤±</strong>ï¼Œå¤§éƒ¨åˆ†çš„<code>this</code>ç»‘å®šé—®é¢˜å°±æ˜¯è¢«â€œéšå¼ç»‘å®šâ€çš„<strong>å‡½æ•°</strong>ä¼šä¸¢å¤±ç»‘å®šå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šåº”ç”¨â€œé»˜è®¤ç»‘å®šâ€ï¼Œä»è€ŒæŠŠ<code>this</code>ç»‘å®šåˆ°<code>Window</code>æˆ–<code>undefined</code>ä¸Šï¼Œæœ€å¸¸è§çš„æƒ…å†µå°±æ˜¯<strong>æŠŠå¯¹è±¡æ–¹æ³•ä½œä¸ºå›è°ƒå‡½æ•°è¿›è¡Œä¼ é€’æ—¶</strong> ï¼ˆæ¯”å¦‚<strong>setTimeout</strong>ã€<strong>setInterval</strong>ï¼Œå…¶å®ƒèƒ½æ”¹å˜ä½œç”¨åŸŸçš„æœ‰<strong>eval</strong>ã€<strong>with</strong>ï¼‰</p>
</blockquote>
</li>
<li>
<p>æ˜¾å¼ç»‘å®šï¼Œé€šè¿‡<code>apply</code>ã€<code>call</code>ã€<code>bind</code>æ–¹æ³•æ¥æ˜¾ç¤ºåœ°ä¿®æ”¹<code>this</code>çš„æŒ‡å‘</p>
</li>
<li>
<p>new ç»‘å®šï¼Œå³è·å–å¯¹è±¡å±æ€§æ—¶</p>
</li>
</ol>
<p>ES6ä¸­æœ‰ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ç±»å‹ï¼š<strong>ç®­å¤´å‡½æ•°</strong>ï¼ˆä¸ä½¿ç”¨ this çš„å››ç§æ ‡å‡†è§„åˆ™ï¼Œè€Œæ˜¯æ ¹æ®å¤–å±‚&lt;å‡½æ•°æˆ–è€…å…¨å±€&gt;ä½œç”¨åŸŸæ¥å†³å®š thisï¼Œè€Œä¼ ç»Ÿçš„ this ä¸å‡½æ•°ä½œç”¨åŸŸæ²¡æœ‰ä»»ä½•å…³ç³»,å®ƒåªä¸è°ƒç”¨ä½ç½®çš„ä¸Šä¸‹æ–‡å¯¹è±¡æœ‰å…³)</p>
<blockquote>
<ul>
<li>ç®­å¤´å‡½æ•°æœ€å¸¸ç”¨äºå›è°ƒå‡½æ•°ä¸­ï¼Œä¾‹å¦‚äº‹ä»¶å¤„ç†å™¨æˆ–è€…å®šæ—¶å™¨.</li>
<li>ç®­å¤´å‡½æ•°å¯ä»¥åƒ<code>bind</code> ä¸€æ ·ç¡®ä¿å‡½æ•°çš„<code>this</code>è¢«ç»‘å®šåˆ°æŒ‡å®šå¯¹è±¡</li>
<li>ç®­å¤´å‡½æ•°ç”¨æ›´å¸¸è§çš„è¯æ³•ä½œç”¨åŸŸå–ä»£äº†ä¼ ç»Ÿçš„<code>this</code>æœºåˆ¶ã€‚</li>
</ul>
</blockquote>
<h4 id="æ·±å…¥ç®­å¤´å‡½æ•°">æ·±å…¥ç®­å¤´å‡½æ•°</h4>
<blockquote>
<p>JS ç±»ä¸­çš„ç®­å¤´å‡½æ•°åªæ˜¯è¯­æ³•ç³–ï¼Œåœ¨ç¼–è¯‘ä¹‹åï¼Œå®ƒå°†å‡ºç°åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œåœ¨å®ä¾‹åŒ–æ—¶åˆ›å»ºå¹¶åˆ†é…</p>
<p>åœ¨ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼ˆè€Œä¸æ˜¯æ‰‹åŠ¨ bindï¼‰çš„æƒ…å†µä¸‹ï¼Œæ¯æ¬¡ä½¿ç”¨ç»„ä»¶æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å‡½æ•°ï¼Œè¿™ä¼šå¯¹åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨äº§ç”Ÿè´Ÿé¢å½±å“ã€‚</p>
</blockquote>
]]></content>
    </entry>
</feed>